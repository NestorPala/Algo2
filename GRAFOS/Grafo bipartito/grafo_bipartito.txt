def dfs_c(grafo, vertice, visitados, colores, color):
    for w in grafo.adyacentes(vertice):
        if w not in visitados:
            visitados.add(w)
            colores[w] = color
            if not dfs_c(grafo, w, visitados, colores, "verde" if color == "rojo" else "rojo"):
                return False
        else:
            if colores[w] == colores[vertice]:
                return False
    return True

def es_bipartito(grafo):
    if not grafo: return True
    visitados = set()
    colores = dict()    
    origen = grafo.vertice_aleatorio()
    colores[origen] = "verde"
    visitados.add(origen)
    return dfs_c(grafo, origen, visitados, colores, "rojo")